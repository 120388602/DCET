-- Generated by CSharp.lua Compiler
local System = System
local ProtoBufMeta = ProtoBuf.Meta
local SystemIO = System.IO
System.namespace("DCET", function (namespace)
  namespace.class("ProtobufHelper", function (namespace)
    local ToBytes, ToStream, FromBytes, FromBytes1, FromStream, FromStream1
    ToBytes = function (message)
      local default, extern = System.using(SystemIO.MemoryStream(), function (memoryStream)
        ProtoBufMeta.RuntimeTypeModel.getDefault():Serialize(memoryStream, message)

        return true, memoryStream:ToArray()
      end)
      if default then
        return extern
      end
    end
    ToStream = function (message, memoryStream)
      ProtoBufMeta.RuntimeTypeModel.getDefault():Serialize(memoryStream, message)
    end
    FromBytes = function (type, bytes, index, count)
      local default, extern = System.using(SystemIO.MemoryStream(bytes, index, count), function (s)
        return true, ProtoBufMeta.RuntimeTypeModel.getDefault():Deserialize(s, nil, type)
      end)
      if default then
        return extern
      end
    end
    FromBytes1 = function (instance, bytes, index, count)
      if instance ~= nil then
        return FromBytes(instance:GetType(), bytes, index, count)
      end

      return nil
    end
    FromStream = function (type, stream)
      return ProtoBufMeta.RuntimeTypeModel.getDefault():Deserialize(stream, nil, type)
    end
    FromStream1 = function (message, stream)
      if message ~= nil then
        return FromStream(message:GetType(), stream)
      end

      return nil
    end
    return {
      ToBytes = ToBytes,
      ToStream = ToStream,
      FromBytes = FromBytes,
      FromBytes1 = FromBytes1,
      FromStream = FromStream,
      FromStream1 = FromStream1
    }
  end)
end)

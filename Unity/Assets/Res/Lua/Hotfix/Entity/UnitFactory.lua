-- Generated by CSharp.lua Compiler
local System = System
local DCETHotfix = DCET.Hotfix
local DCETModel = DCET.Model
local UnityEngine = UnityEngine
local DCETHotfix
System.import(function (out)
  DCETHotfix = DCET.Hotfix
end)
System.namespace("DCET.Hotfix", function (namespace)
  namespace.class("UnitFactory", function (namespace)
    local Create
    Create = function (domain, id)
      local resourcesComponent = DCETHotfix.Game.getScene():GetComponent(DCETHotfix.ResourcesComponent)
      local bundleGameObject = System.cast(UnityEngine.GameObject, resourcesComponent:GetAsset("Unit.unity3d", "Unit"))
      local prefab = DCETModel.GameObjectHelper.GetGameObject(bundleGameObject, "Skeleton")

      local unitComponent = DCETHotfix.Game.getScene():GetComponent(DCETHotfix.UnitComponent)

      local go = UnityEngine.Object.Instantiate(prefab)
      local unit = DCETHotfix.EntityFactory.CreateWithId1(domain, id, go, DCETHotfix.Unit, UnityEngine.GameObject)

      unit:AddComponent(DCETHotfix.AnimatorComponent)
      unit:AddComponent(DCETHotfix.MoveComponent)
      unit:AddComponent(DCETHotfix.TurnComponent)
      unit:AddComponent(DCETHotfix.UnitPathComponent)

      unitComponent:Add(unit)
      return unit
    end
    return {
      Create = Create
    }
  end)
end)

-- Generated by CSharp.lua Compiler
local System = System
local DCETHotfix = DCET.Hotfix
local DCETModel = DCET.Model
local UnityEngine = UnityEngine
System.namespace("DCET.Hotfix", function (namespace)
  namespace.class("ConfigHelper", function (namespace)
    local GetText, ToObject
    GetText = function (key)
      local default, extern = System.try(function ()
        local config = System.cast(UnityEngine.GameObject, DCETModel.Game.getScene():GetComponent(DCETModel.ResourcesComponent):GetAsset("config.unity3d", "Config"))
        local configStr = DCETModel.GameObjectHelper.Get(config, key, UnityEngine.TextAsset):gettext()
        return true, configStr
      end, function (default)
        local e = default
        System.throw(System.Exception("load config file fail, key: " .. key, e))
      end)
      if default then
        return extern
      end
    end
    ToObject = function (str, T)
      return DCETHotfix.JsonHelper.FromJson(str, T)
    end
    return {
      GetText = GetText,
      ToObject = ToObject
    }
  end)
end)
